<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <title>Music Player</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Tailwind CDN -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Tailwind Custom Theme -->
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        spotify: '#1DB954',
                        darkbg: '#121212',
                        darkcard: '#181818',
                        darkborder: '#2a2a2a',
                        lightbg: '#f9fafb',
                        lightcard: '#ffffff',
                        lightborder: '#e5e7eb'
                    }
                }
            }
        }
    </script>

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />

    <link rel="icon" href="/media/fav-icon.png">

    <!-- Custom Scrollbar -->
    <style>
        ::-webkit-scrollbar {
            width: 4px;
        }

        ::-webkit-scrollbar-track {
            background: #878686;
        }

        ::-webkit-scrollbar-thumb {
            background: #1DB954;
            border-radius: 9999px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #17a74a;
        }
    </style>

    <!-- Scripts -->
    <script defer src="data.js"></script>
    <script defer src="player.js"></script>
    <script defer src="storage.js"></script>
    <script defer src="UI.js"></script>
    <script defer src="main.js"></script>
</head>

<body class="h-screen overflow-hidden bg-lightbg text-black dark:bg-darkbg dark:text-white">

    <!-- Alert window -->
    <div id="deviceAlert" class="fixed inset-0 bg-black/60 hidden items-center justify-center z-50">
        <div class="bg-white rounded-xl p-6 max-w-sm text-center">
            <h2 class="text-lg font-semibold mb-2">⚠️ Better Experience Recommended</h2>
            <p class="text-sm text-gray-600">Please use a tablet or desktop device for the best experience.</p>
            <button onclick="closeAlert()" class="mt-4 px-4 py-2 bg-spotify text-black rounded-lg">Got it</button>
        </div>
    </div>


    <!-- TOP BAR -->
    <header
        class="flex items-center gap-4 p-4 border-b bg-lightcard border-lightborder dark:bg-darkcard dark:border-darkborder">
        <img src="media/fav-icon.png" alt="icon" class="w-6 h-6 hidden md:block">
        <button id="sidebarToggle" class="text-xl md:hidden">
            <i class="fas fa-bars"></i>
        </button>

        <input id="searchInput" type="text" placeholder="Search songs or playlists..." class="flex-1 px-4 py-2 rounded-full outline-none
                   bg-gray-100 text-black
                   dark:bg-darkbg dark:text-white dark:placeholder-gray-400" />

        <button id="themeToggle" class="text-xl">
            <i class="fas fa-moon"></i>
        </button>
    </header>

    <!-- MAIN LAYOUT -->
    <div class="flex h-[calc(100vh-160px)]">

        <!-- SIDEBAR -->
        <aside id="sidebar" class="hidden md:block fixed md:static inset-y-0 left-0 z-40
                   w-64 p-4 space-y-6 overflow-y-auto
                   bg-lightcard border-r border-lightborder
                   dark:bg-darkcard dark:border-darkborder transition-all">

            <div>
                <div class="flex items-center justify-between">
                    <h2 class="text-sm uppercase text-gray-400">Your Library</h2>
                    <button id="sidebarClose" class="md:hidden text-spotify">
                        <i class="fa-solid fa-xmark"></i>
                    </button>
                </div>

                <ul class="mt-3 space-y-2">
                    <li class="cursor-pointer hover:text-spotify">Playlist 1</li>
                    <li class="cursor-pointer hover:text-spotify">Playlist 2</li>
                    <li class="cursor-pointer hover:text-spotify">Playlist 3</li>
                </ul>

                <button id="createPlaylist" class="mt-4 w-full rounded-md px-3 py-2
                           text-sm text-spotify
                           bg-gray-100 dark:bg-darkbg">
                    + Create Playlist
                </button>
            </div>

            <div>
                <h2 class="text-sm uppercase text-gray-400">Favourites</h2>
                <ul class="mt-3 space-y-2">
                    <li class="cursor-pointer hover:text-spotify">Song 1</li>
                    <li class="cursor-pointer hover:text-spotify">Song 2</li>
                    <li class="cursor-pointer hover:text-spotify">Song 3</li>
                </ul>
            </div>

            <div>
                <h2 class="text-sm uppercase text-gray-400">Recently Played</h2>
                <ul class="mt-3 space-y-2">
                    <li class="cursor-pointer hover:text-spotify">Song A</li>
                    <li class="cursor-pointer hover:text-spotify">Song B</li>
                </ul>
            </div>
        </aside>

        <!-- CENTER PANEL -->
        <main class="flex-1 p-6 flex flex-col items-center justify-between">
            <div class="text-center">
                <div class="flex items-center justify-center gap-3">
                    <h2 id="currentPlaylistName" class="text-sm text-gray-400">
                        Current Playlist
                    </h2>

                    <button id="songsToggle" class="sm:hidden text-spotify">
                        <i class="fa-solid fa-angles-right"></i> Songs
                    </button>
                </div>

                <div class="mt-4 rounded-xl bg-lightcard dark:bg-darkcard p-4">
                    <img alt="image" id="currentPlayingSongImage" class="w-64 h-64 object-contain mx-auto" />
                </div>

                <h3 id="currentPlayingSong" class="mt-4 max-w-64 truncate text-xl font-semibold">
                    Currently Playing Song
                </h3>
            </div>

            <button id="addToPlaylist" class="m-0 rounded-md px-4 py-2
                       text-sm text-spotify
                       bg-gray-200 dark:bg-darkcard">
                + Add to Playlist
            </button>
        </main>

        <!-- SONG LIST -->
        <section id="songListPanel" class="hidden sm:block fixed sm:static inset-y-0 right-0 z-40
                   w-80 p-4 pt-0 overflow-y-auto
                   bg-lightcard border-l border-lightborder
                   dark:bg-darkcard dark:border-darkborder">

            <div class="flex sticky bg-lightcard dark:bg-darkcard top-0 items-center justify-between py-4">
                <h2 class="text-sm uppercase text-gray-400">All songs</h2>
                <button id="songsToggleClose" class="sm:hidden text-spotify">
                    <i class="fa-solid fa-xmark"></i>
                </button>
            </div>

            <ul id="songList" class="space-y-2"></ul>
        </section>
    </div>

    <!-- PLAYER -->
    <footer class="relative h-24 px-4 py-3
         bg-lightcard border-t border-lightborder
         dark:bg-darkcard dark:border-darkborder
         flex flex-col justify-between">

        <!-- TOP ROW -->
        <div class="relative flex items-center">
            <!-- song image and title -->
            <div class="flex items-center gap-3 max-w-[240px] overflow-hidden">
                <img id="currentSongImage" alt="Song Image" class="w-10 h-10 rounded object-cover flex-shrink-0" />
                <span id="currentSongName" class="hidden sm:block truncate text-sm">
                    Song Name
                </span>
            </div>
            <!-- Controls -->
            <div class="absolute left-1/2 -translate-x-1/2 flex items-center gap-4">

                <button id="shuffleBtn"><i class="fas fa-random"></i></button>
                <button id="prevBtn"><i class="fas fa-backward"></i></button>
                <button id="playPauseBtn" class="w-12 h-12 rounded-full bg-spotify text-black flex items-center justify-center">
                    <i class="fas fa-play"></i>
                </button>
                <button id="nextBtn"><i class="fas fa-forward"></i></button>
                <button id="loopBtn"><i class="fas fa-repeat"></i></button>
            </div>

            <!-- Volume -->
            <div class="hidden sm:flex items-center gap-3 ml-auto">
                <i id="volumeIcon" class="fas fa-volume-up cursor-pointer"></i>
                <input type="range" id="volumeBar" value="50" class="w-32 accent-spotify cursor-pointer" />
            </div>

        </div>

        <!-- Progress Bar -->
        <div class="flex items-center gap-2 text-xs">
            <span id="currentTime">0:00</span>
            <input type="range" id="progressBar" value="0" class="flex-1 accent-spotify cursor-pointer" />
            <span id="duration">0:00</span>
        </div>

    </footer>



</body>

</html>